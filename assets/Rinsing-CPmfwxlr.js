import{C as e,_ as t,b as n,c as r,d as i,f as a,l as o,o as s,r as c,s as l,t as u,u as ee,v as d}from"./index-Gbp6Xav9.js";import{a as te,c as f,i as ne,l as re,o as ie,r as ae,s as p,t as m}from"./success_sound-xqxKNLfj.js";import{n as h,t as g}from"./Sweet elegance1-small-QO0ZJ85K.js";import{t as oe}from"./use-sound.esm-DzUYtT_y.js";import{t as _}from"./Ariel Original-small-aGklY2bk.js";var v=e(d()),y=e(n()),se=`/job_project/assets/loaded_washing_machine-small-CC_GymFW.webp`,b=e(t()),x=[{id:`tray`,shape:`poly`,coords:[273,78,277,223,199,263,21,244,19,79],label:`YouTube link`}],S=[{id:`detergent`,asset_src:_,status:`UNSORTED`,correct_destination:`NONE`},{id:`downy`,asset_src:g,status:`UNSORTED`,correct_destination:`TRAY`}],C=e=>{let t=(0,v.c)(11),{id:n,bounds:r}=e,i;t[0]===n?i=t[1]:(i={id:n},t[0]=n,t[1]=i);let{isOver:a,setNodeRef:o}=p(i),s=a?`2px solid limegreen`:`2px solid transparent`,c;t[2]!==r.height||t[3]!==r.left||t[4]!==r.top||t[5]!==r.width||t[6]!==s?(c={position:`absolute`,left:r.left,top:r.top,width:r.width,height:r.height,border:s,zIndex:5,cursor:`pointer`},t[2]=r.height,t[3]=r.left,t[4]=r.top,t[5]=r.width,t[6]=s,t[7]=c):c=t[7];let l=c,u;return t[8]!==o||t[9]!==l?(u=(0,b.jsx)(`div`,{ref:o,style:l}),t[8]=o,t[9]=l,t[10]=u):u=t[10],u},w=e=>{let t=(0,v.c)(38),{title:n}=e,{next:d}=u.useStepper(),[p]=oe(m),[g,_]=(0,y.useState)(S),C=(0,y.useRef)(null),w;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(w={},t[0]=w):w=t[0];let[D,ue]=(0,y.useState)(w),[de,O]=(0,y.useState)(!1),k;t[1]===g?k=t[2]:(k=g.filter(T),t[1]=g,t[2]=k);let A=k,j=A.length===1,M,N;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(M=()=>{let e=C.current;if(!e)return;let t=()=>{let t=e.getBoundingClientRect(),{naturalWidth:n,naturalHeight:r}=e;if(n===0||r===0)return;let i=t.width/n,a=t.height/r,o={};x.forEach(e=>{if(e.shape===`circle`){let[t,n,r]=e.coords;o[e.id]={left:(t-r)*i,top:(n-r)*a,width:2*r*i,height:2*r*a}}else{let t=e.coords.filter(ce),n=e.coords.filter(E),r=Math.min(...t),s=Math.max(...t),c=Math.min(...n),l=Math.max(...n);o[e.id]={left:r*i,top:c*a,width:(s-r)*i,height:(l-c)*a}}}),ue(o)};return e.complete?t():e.addEventListener(`load`,t),window.addEventListener(`resize`,t),()=>{window.removeEventListener(`resize`,t),e.removeEventListener(`load`,t)}},N=[],t[3]=M,t[4]=N):(M=t[3],N=t[4]),(0,y.useEffect)(M,N);let P;t[5]!==g||t[6]!==p?(P=function(e){let{active:t,over:n}=e;if(!n)return;let r=t.id.split(`-`),i=r[0].toUpperCase(),a=r[1].toUpperCase();if(n.id.toUpperCase()!=a){navigator.vibrate([10,30]),O(!0),setTimeout(()=>O(!1),500),i==`DETERGENT`?c.warning(`detergent is not used in the rinse cycle`):c.warning(`put ${i} clothes in the ${a}`);return}let o=i.toLowerCase();p(),_(()=>g.map(e=>e.id===o?{...e,status:`SORTED`}:e))},t[5]=g,t[6]=p,t[7]=P):P=t[7];let F=P,I=f(te),L=f(ie),R=f(ne),z=re(I,L,R),B;t[8]===n?B=t[9]:(B=(0,b.jsx)(i,{children:n}),t[8]=n,t[9]=B);let V;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(V=(0,b.jsx)(r,{children:`Downy keeps your clothes soft and fresh`}),t[10]=V):V=t[10];let H;t[11]===B?H=t[12]:(H=(0,b.jsxs)(ee,{children:[B,V]}),t[11]=B,t[12]=H);let U;t[13]===Symbol.for(`react.memo_cache_sentinel`)?(U={position:`relative`,display:`inline-block`},t[13]=U):U=t[13];let W=de?`shake`:``,G;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(G=(0,b.jsx)(`img`,{ref:C,src:se,alt:`Map`,className:`w-full h-auto max-h-[70vh] object-contain block`}),t[14]=G):G=t[14];let K;t[15]===D?K=t[16]:(K=Object.entries(D).map(le),t[15]=D,t[16]=K);let q;t[17]!==W||t[18]!==K?(q=(0,b.jsxs)(`div`,{style:U,className:W,children:[G,K]}),t[17]=W,t[18]=K,t[19]=q):q=t[19];let J;t[20]===A?J=t[21]:(J=(0,b.jsx)(h,{items:A}),t[20]=A,t[21]=J);let Y;t[22]!==q||t[23]!==J?(Y=(0,b.jsxs)(`div`,{className:`flex`,children:[q,J]}),t[22]=q,t[23]=J,t[24]=Y):Y=t[24];let X;t[25]!==F||t[26]!==z||t[27]!==Y?(X=(0,b.jsx)(l,{children:(0,b.jsx)(ae,{onDragEnd:F,sensors:z,children:Y})}),t[25]=F,t[26]=z,t[27]=Y,t[28]=X):X=t[28];let Z;t[29]!==j||t[30]!==d?(Z=j&&(0,b.jsx)(a,{className:`bounce_button`,onClick:d,children:`RINSE,SPIN AND DRY`}),t[29]=j,t[30]=d,t[31]=Z):Z=t[31];let Q;t[32]===Z?Q=t[33]:(Q=(0,b.jsx)(o,{children:Z}),t[32]=Z,t[33]=Q);let $;return t[34]!==X||t[35]!==Q||t[36]!==H?($=(0,b.jsxs)(s,{children:[H,X,Q]}),t[34]=X,t[35]=Q,t[36]=H,t[37]=$):$=t[37],$};function T(e){return e.status===`UNSORTED`}function ce(e,t){return t%2==0}function E(e,t){return t%2==1}function le(e){let[t,n]=e;return(0,b.jsx)(C,{id:t,bounds:n},t)}export{w as default};
import{C as e,_ as t,b as n,c as r,d as i,f as a,l as o,o as s,r as c,s as l,t as u,u as ee,v as d}from"./index-DLL_qxIU.js";import{a as te,c as f,i as ne,n as re,o as p,r as m,s as h}from"./Draggable-BO8E47Nb.js";import{t as g}from"./unsorted_laundry_items-Cuz4q7Yp.js";import{t as _}from"./use-sound.esm-LovjO3TO.js";var v=e(d()),y=e(n()),b=e(t()),ie=[{id:`tray`,shape:`poly`,coords:[273,78,277,223,199,263,21,244,19,79],label:`YouTube link`}],ae=[{id:`detergent`,asset_src:`/job_project/Ariel Original-small.webp`,status:`UNSORTED`,correct_destination:`NONE`},{id:`downy`,asset_src:`/job_project/Sweet elegance1-small.webp`,status:`UNSORTED`,correct_destination:`TRAY`}],x=e=>{let t=(0,v.c)(11),{id:n,bounds:r}=e,i;t[0]===n?i=t[1]:(i={id:n},t[0]=n,t[1]=i);let{isOver:a,setNodeRef:o}=p(i),s=a?`2px solid limegreen`:`2px solid transparent`,c;t[2]!==r.height||t[3]!==r.left||t[4]!==r.top||t[5]!==r.width||t[6]!==s?(c={position:`absolute`,left:r.left,top:r.top,width:r.width,height:r.height,border:s,zIndex:5,cursor:`pointer`},t[2]=r.height,t[3]=r.left,t[4]=r.top,t[5]=r.width,t[6]=s,t[7]=c):c=t[7];let l=c,u;return t[8]!==o||t[9]!==l?(u=(0,b.jsx)(`div`,{ref:o,style:l}),t[8]=o,t[9]=l,t[10]=u):u=t[10],u},S=e=>{let t=(0,v.c)(38),{title:n}=e,{next:d}=u.useStepper(),[p]=_(`/job_project/success_sound.mp3`),[x,S]=(0,y.useState)(ae),C=(0,y.useRef)(null),w;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(w={},t[0]=w):w=t[0];let[T,E]=(0,y.useState)(w),[D,O]=(0,y.useState)(!1),k;t[1]===x?k=t[2]:(k=x.filter(oe),t[1]=x,t[2]=k);let A=k,j=A.length===1,M,N;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(M=()=>{let e=C.current;if(!e)return;let t=()=>{let t=e.getBoundingClientRect(),{naturalWidth:n,naturalHeight:r}=e;if(n===0||r===0)return;let i=t.width/n,a=t.height/r,o={};ie.forEach(e=>{if(e.shape===`circle`){let[t,n,r]=e.coords;o[e.id]={left:(t-r)*i,top:(n-r)*a,width:2*r*i,height:2*r*a}}else{let t=e.coords.filter(se),n=e.coords.filter(ce),r=Math.min(...t),s=Math.max(...t),c=Math.min(...n),l=Math.max(...n);o[e.id]={left:r*i,top:c*a,width:(s-r)*i,height:(l-c)*a}}}),E(o)};return e.complete?t():e.addEventListener(`load`,t),window.addEventListener(`resize`,t),()=>{window.removeEventListener(`resize`,t),e.removeEventListener(`load`,t)}},N=[],t[3]=M,t[4]=N):(M=t[3],N=t[4]),(0,y.useEffect)(M,N);let P;t[5]!==x||t[6]!==p?(P=function(e){let{active:t,over:n}=e;if(!n)return;let r=t.id.split(`-`),i=r[0].toUpperCase(),a=r[1].toUpperCase();if(n.id.toUpperCase()!=a){navigator.vibrate([10,30]),O(!0),setTimeout(()=>O(!1),500),i==`DETERGENT`?c.warning(`detergent is not used in the rinse cycle`):c.warning(`put ${i} clothes in the ${a}`);return}let o=i.toLowerCase();p(),S(()=>x.map(e=>e.id===o?{...e,status:`SORTED`}:e))},t[5]=x,t[6]=p,t[7]=P):P=t[7];let F=P,I=h(ne),L=h(te),R=h(m),z=f(I,L,R),B;t[8]===n?B=t[9]:(B=(0,b.jsx)(i,{children:n}),t[8]=n,t[9]=B);let V;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(V=(0,b.jsx)(r,{children:`Downy keeps your clothes soft and fresh`}),t[10]=V):V=t[10];let H;t[11]===B?H=t[12]:(H=(0,b.jsxs)(ee,{children:[B,V]}),t[11]=B,t[12]=H);let U;t[13]===Symbol.for(`react.memo_cache_sentinel`)?(U={position:`relative`,display:`inline-block`},t[13]=U):U=t[13];let W=D?`shake`:``,G;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(G=(0,b.jsx)(`img`,{ref:C,src:`/job_project/loaded_washing_machine-small.webp`,alt:`Map`,className:`w-full h-auto max-h-[70vh] object-contain block`}),t[14]=G):G=t[14];let K;t[15]===T?K=t[16]:(K=Object.entries(T).map(le),t[15]=T,t[16]=K);let q;t[17]!==W||t[18]!==K?(q=(0,b.jsxs)(`div`,{style:U,className:W,children:[G,K]}),t[17]=W,t[18]=K,t[19]=q):q=t[19];let J;t[20]===A?J=t[21]:(J=(0,b.jsx)(g,{items:A}),t[20]=A,t[21]=J);let Y;t[22]!==q||t[23]!==J?(Y=(0,b.jsxs)(`div`,{className:`flex`,children:[q,J]}),t[22]=q,t[23]=J,t[24]=Y):Y=t[24];let X;t[25]!==F||t[26]!==z||t[27]!==Y?(X=(0,b.jsx)(l,{children:(0,b.jsx)(re,{onDragEnd:F,sensors:z,children:Y})}),t[25]=F,t[26]=z,t[27]=Y,t[28]=X):X=t[28];let Z;t[29]!==j||t[30]!==d?(Z=j&&(0,b.jsx)(a,{className:`bounce_button`,onClick:d,children:`RINSE,SPIN AND DRY`}),t[29]=j,t[30]=d,t[31]=Z):Z=t[31];let Q;t[32]===Z?Q=t[33]:(Q=(0,b.jsx)(o,{children:Z}),t[32]=Z,t[33]=Q);let $;return t[34]!==X||t[35]!==Q||t[36]!==H?($=(0,b.jsxs)(s,{children:[H,X,Q]}),t[34]=X,t[35]=Q,t[36]=H,t[37]=$):$=t[37],$};function oe(e){return e.status===`UNSORTED`}function se(e,t){return t%2==0}function ce(e,t){return t%2==1}function le(e){let[t,n]=e;return(0,b.jsx)(x,{id:t,bounds:n},t)}export{S as default};
import{C as e,_ as t,b as n,d as r,f as i,l as a,o,r as s,s as c,t as l,u,v as d}from"./index-DLL_qxIU.js";import{a as f,c as p,i as m,n as h,o as g,r as ee,s as _,t as v}from"./Draggable-BO8E47Nb.js";import{t as y}from"./use-sound.esm-LovjO3TO.js";var te=e(d()),b=e(n()),x=e(t()),S=e=>{let t=(0,te.c)(32),{sparkColor:n,sparkSize:r,sparkRadius:i,sparkCount:a,duration:o,easing:s,extraScale:c,ref:l,className:u,children:d}=e,f=n===void 0?`#fff`:n,p=r===void 0?10:r,m=i===void 0?15:i,h=a===void 0?8:a,g=o===void 0?400:o,ee=s===void 0?`ease-out`:s,_=c===void 0?1:c,v=u===void 0?``:u,y=(0,b.useRef)(null),S;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(S=[],t[0]=S):S=t[0];let C=(0,b.useRef)(S),ne=(0,b.useRef)(null),w=(0,b.useRef)(null),T,E;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(T=()=>{let e=y.current;if(!e)return;let t=e.parentElement;if(!t)return;let n,r=()=>{let{width:n,height:r}=t.getBoundingClientRect();(e.width!==n||e.height!==r)&&(e.width=n,e.height=r)},i=new ResizeObserver(()=>{clearTimeout(n),n=setTimeout(r,100)});return i.observe(t),r(),()=>{i.disconnect(),clearTimeout(n)}},E=[],t[1]=T,t[2]=E):(T=t[1],E=t[2]),(0,b.useEffect)(T,E);let D;t[3]===ee?D=t[4]:(D=e=>{switch(ee){case`linear`:return e;case`ease-in`:return e*e;case`ease-in-out`:return e<.5?2*e*e:-1+(4-2*e)*e;default:return e*(2-e)}},t[3]=ee,t[4]=D);let O=D,k;t[5]!==g||t[6]!==O||t[7]!==_||t[8]!==f||t[9]!==m||t[10]!==p?(k=()=>{let e=y.current;if(!e)return;let t=e.getContext(`2d`);if(!t)return;let n,r=i=>{ne.current||=i,t?.clearRect(0,0,e.width,e.height),C.current=C.current.filter(e=>{let n=i-e.startTime;if(n>=g)return!1;let r=n/g,a=O(r),o=a*m*_,s=p*(1-a),c=e.x+o*Math.cos(e.angle),l=e.y+o*Math.sin(e.angle),u=e.x+(o+s)*Math.cos(e.angle),d=e.y+(o+s)*Math.sin(e.angle);return t.strokeStyle=f,t.lineWidth=2,t.beginPath(),t.moveTo(c,l),t.lineTo(u,d),t.stroke(),!0}),n=requestAnimationFrame(r)};return n=requestAnimationFrame(r),()=>{cancelAnimationFrame(n)}},t[5]=g,t[6]=O,t[7]=_,t[8]=f,t[9]=m,t[10]=p,t[11]=k):k=t[11];let A;t[12]!==g||t[13]!==O||t[14]!==_||t[15]!==f||t[16]!==h||t[17]!==m||t[18]!==p?(A=[f,p,m,h,g,O,_],t[12]=g,t[13]=O,t[14]=_,t[15]=f,t[16]=h,t[17]=m,t[18]=p,t[19]=A):A=t[19],(0,b.useEffect)(k,A);let j;t[20]===h?j=t[21]:(j=(e,t)=>{let n=performance.now(),r=Array.from({length:h},(r,i)=>({x:e,y:t,angle:2*Math.PI*i/h,startTime:n}));C.current.push(...r)},t[20]=h,t[21]=j);let re=j,M;t[22]===h?M=t[23]:(M=e=>{console.log(`hello`);let t=y.current;if(!t)return;let n=t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,a=performance.now(),o=Array.from({length:h},(e,t)=>({x:r,y:i,angle:2*Math.PI*t/h,startTime:a}));C.current.push(...o)},t[22]=h,t[23]=M);let ie=M,N;t[24]===re?N=t[25]:(N=()=>({handleDivClick:()=>{if(!w.current)return;console.log(w.current);let e=w.current.getBoundingClientRect(),t=e.width/2,n=e.height/2;re(t,n)}}),t[24]=re,t[25]=N),(0,b.useImperativeHandle)(l,N);let P;t[26]===Symbol.for(`react.memo_cache_sentinel`)?(P={position:`relative`},t[26]=P):P=t[26];let F;t[27]===Symbol.for(`react.memo_cache_sentinel`)?(F=(0,x.jsx)(`canvas`,{ref:y,style:{position:`absolute`,inset:0,pointerEvents:`none`}}),t[27]=F):F=t[27];let I;return t[28]!==d||t[29]!==v||t[30]!==ie?(I=(0,x.jsxs)(`div`,{className:v,ref:w,style:P,onClick:ie,children:[F,d]}),t[28]=d,t[29]=v,t[30]=ie,t[31]=I):I=t[31],I},C=e(d());function ne(e){let t=(0,C.c)(9),n;t[0]===e.id?n=t[1]:(n={id:e.id},t[0]=e.id,t[1]=n);let{isOver:r,setNodeRef:i}=g(n),a=r?`green`:void 0,o=r?`1px solid green`:void 0,s;t[2]!==a||t[3]!==o?(s={color:a,border:o},t[2]=a,t[3]=o,t[4]=s):s=t[4];let c=s,l;return t[5]!==e.children||t[6]!==i||t[7]!==c?(l=(0,x.jsx)(`div`,{ref:i,style:c,children:e.children}),t[5]=e.children,t[6]=i,t[7]=c,t[8]=l):l=t[8],l}var w=ne,T=e(d());function E(e){let t=(0,T.c)(13),{items:n,type:r,asset_src:i}=e,a=`droppable-${r}`,o;t[0]===i?o=t[1]:(o=(0,x.jsx)(`img`,{src:i,alt:``,width:80,height:80}),t[0]=i,t[1]=o);let s=`${r}S`,c;t[2]===s?c=t[3]:(c=(0,x.jsx)(`h2`,{children:s}),t[2]=s,t[3]=c);let l;t[4]!==a||t[5]!==o||t[6]!==c?(l=(0,x.jsxs)(w,{id:a,children:[o,c]}),t[4]=a,t[5]=o,t[6]=c,t[7]=l):l=t[7];let u;t[8]===n?u=t[9]:(u=n.map(D),t[8]=n,t[9]=u);let d;return t[10]!==l||t[11]!==u?(d=(0,x.jsxs)(`div`,{children:[l,u]}),t[10]=l,t[11]=u,t[12]=d):d=t[12],d}function D(e){return(0,x.jsx)(`div`,{children:(0,x.jsx)(`img`,{src:e.asset_src,alt:``,width:80,height:80})},e.id)}var O=E,k=e(d());function A(e){let t=(0,k.c)(4),{items:n}=e,r;t[0]===n?r=t[1]:(r=n.map(j),t[0]=n,t[1]=r);let i;return t[2]===r?i=t[3]:(i=(0,x.jsx)(`div`,{className:`flex`,children:r}),t[2]=r,t[3]=i),i}function j(e){return(0,x.jsx)(v,{id:e.id,children:(0,x.jsx)(`img`,{src:e.asset_src,alt:``,width:80,height:80})},e.id)}var re=A,M=e(d()),ie=[{id:`draggable-white-1`,asset_src:`/job_project/shirt.webp`,status:`UNSORTED`},{id:`draggable-white-2`,asset_src:`/job_project/tshirt.webp`,status:`UNSORTED`},{id:`draggable-coloured-1`,asset_src:`/job_project/towel.webp`,status:`UNSORTED`},{id:`draggable-coloured-2`,asset_src:`/job_project/hoodie.webp`,status:`UNSORTED`},{id:`draggable-delicate`,asset_src:`/job_project/039_jean.webp`,status:`UNSORTED`}];function N(e){let t=(0,M.c)(55),{title:n}=e,{next:d}=l.useStepper(),g=_(m),v=_(f),te=_(ee),C=p(g,v,te),[ne]=y(`/job_project/success_sound.mp3`),[w,T]=(0,b.useState)(ie),E=(0,b.useRef)(null),D=(0,b.useRef)(null),k=(0,b.useRef)(null),[A,j]=(0,b.useState)(null),[N]=y(`/job_project/winning-82808.mp3`),oe;t[0]===w?oe=t[1]:(oe=w.filter(ae),t[0]=w,t[1]=oe);let se=oe,L=se.length===0,ce;t[2]!==w||t[3]!==ne?(ce=function(e){let{active:t,over:n}=e;if(!n)return;let r=t.id,i=r.split(`-`)[1].toUpperCase(),a=n.id.split(`-`)[1].toUpperCase();if(i!=a){navigator.vibrate([10,30]),s.warning(`put ${i} clothes in the ${i} bucket`),j(a),setTimeout(()=>j(null),500);return}a===`WHITE`?E.current?.handleDivClick():a==`COLOURED`?D.current?.handleDivClick():k.current?.handleDivClick(),ne(),T(()=>w.map(e=>e.id===r?{...e,status:a}:e))},t[2]=w,t[3]=ne,t[4]=ce):ce=t[4];let le=ce,ue,de;t[5]!==L||t[6]!==N?(ue=()=>{L&&(N(),s.success(`ðŸŽ‰ Congratulations! All clothes sorted!`,{duration:5e3})),console.log(`happened`)},de=[L,N],t[5]=L,t[6]=N,t[7]=ue,t[8]=de):(ue=t[7],de=t[8]),(0,b.useEffect)(ue,de);let R;t[9]===n?R=t[10]:(R=(0,x.jsx)(u,{children:(0,x.jsx)(r,{children:n})}),t[9]=n,t[10]=R);let z;t[11]===se?z=t[12]:(z=(0,x.jsx)(re,{items:se}),t[11]=se,t[12]=z);let B;t[13]===L?B=t[14]:(B=L||(0,x.jsx)(`p`,{children:`Drag and drop clothes in the right basket`}),t[13]=L,t[14]=B);let fe=A===`WHITE`?`shake`:``,V;t[15]===w?V=t[16]:(V=w.filter(I),t[15]=w,t[16]=V);let H;t[17]===V?H=t[18]:(H=(0,x.jsx)(O,{asset_src:`/job_project/laundry_basket1.webp`,type:`WHITE`,items:V}),t[17]=V,t[18]=H);let U;t[19]!==H||t[20]!==fe?(U=(0,x.jsx)(S,{sparkSize:50,sparkColor:`#7CFC00`,ref:E,className:fe,children:H}),t[19]=H,t[20]=fe,t[21]=U):U=t[21];let pe=A===`COLOURED`?`shake`:``,W;t[22]===w?W=t[23]:(W=w.filter(F),t[22]=w,t[23]=W);let G;t[24]===W?G=t[25]:(G=(0,x.jsx)(O,{asset_src:`/job_project/laundry_basket_2.webp`,type:`COLOURED`,items:W}),t[24]=W,t[25]=G);let K;t[26]!==pe||t[27]!==G?(K=(0,x.jsx)(S,{sparkSize:50,sparkColor:`#7CFC00`,ref:D,className:pe,children:G}),t[26]=pe,t[27]=G,t[28]=K):K=t[28];let me=A===`DELICATE`?`shake`:``,q;t[29]===w?q=t[30]:(q=w.filter(P),t[29]=w,t[30]=q);let J;t[31]===q?J=t[32]:(J=(0,x.jsx)(O,{asset_src:`/job_project/laundry_basket_3.webp`,type:`DELICATE`,items:q}),t[31]=q,t[32]=J);let Y;t[33]!==me||t[34]!==J?(Y=(0,x.jsx)(S,{sparkSize:50,sparkColor:`#7CFC00`,ref:k,className:me,children:J}),t[33]=me,t[34]=J,t[35]=Y):Y=t[35];let X;t[36]!==U||t[37]!==K||t[38]!==Y?(X=(0,x.jsxs)(`div`,{className:`flex gap-2`,children:[U,K,Y]}),t[36]=U,t[37]=K,t[38]=Y,t[39]=X):X=t[39];let Z;t[40]!==le||t[41]!==C||t[42]!==X||t[43]!==z||t[44]!==B?(Z=(0,x.jsx)(c,{children:(0,x.jsxs)(h,{sensors:C,onDragEnd:le,children:[z,B,X]})}),t[40]=le,t[41]=C,t[42]=X,t[43]=z,t[44]=B,t[45]=Z):Z=t[45];let Q;t[46]!==L||t[47]!==d?(Q=L&&(0,x.jsx)(i,{className:`bounce_button`,onClick:d,children:`next`}),t[46]=L,t[47]=d,t[48]=Q):Q=t[48];let $;t[49]===Q?$=t[50]:($=(0,x.jsx)(a,{children:Q}),t[49]=Q,t[50]=$);let he;return t[51]!==Z||t[52]!==$||t[53]!==R?(he=(0,x.jsxs)(o,{children:[R,Z,$]}),t[51]=Z,t[52]=$,t[53]=R,t[54]=he):he=t[54],he}function P(e){return e.status===`DELICATE`}function F(e){return e.status===`COLOURED`}function I(e){return e.status===`WHITE`}function ae(e){return e.status===`UNSORTED`}export{N as default};
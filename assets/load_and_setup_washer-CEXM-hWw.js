import{C as e,_ as t,b as n,d as r,f as i,l as a,o,r as s,s as c,t as l,u,v as d}from"./index-E5JuqSZ3.js";import{a as ee,c as f,i as te,l as p,o as ne,r as re,s as m,t as ie}from"./success_sound-DKxhp8RZ.js";import{n as ae,t as h}from"./Sweet elegance1-small-BQifnUzD.js";import{t as oe}from"./use-sound.esm-DYLCW31J.js";import{t as g}from"./Ariel Original-small-aGklY2bk.js";import{t as _}from"./hoodie-Ch2dNa4-.js";var v=e(d()),y=e(n()),b=`/job_project/assets/empty_washing_machine-small-MvEAHLA0.webp`,x=e(t()),S=[{id:`drum`,shape:`circle`,coords:[433,541,159],label:`Google link`},{id:`tray`,shape:`poly`,coords:[319,101,323,239,249,273,83,250,82,100],label:`YouTube link`}],C=[{id:`detergent`,asset_src:g,status:`UNSORTED`,correct_destination:`TRAY`},{id:`clothes`,asset_src:_,status:`UNSORTED`,correct_destination:`DRUM`},{id:`downy`,asset_src:h,status:`UNSORTED`,correct_destination:`NONE`}],w=e=>{let t=(0,v.c)(11),{id:n,bounds:r}=e,i;t[0]===n?i=t[1]:(i={id:n},t[0]=n,t[1]=i);let{isOver:a,setNodeRef:o}=m(i),s=a?`2px solid limegreen`:`2px solid transparent`,c;t[2]!==r.height||t[3]!==r.left||t[4]!==r.top||t[5]!==r.width||t[6]!==s?(c={position:`absolute`,left:r.left,top:r.top,width:r.width,height:r.height,border:s,zIndex:5,cursor:`pointer`},t[2]=r.height,t[3]=r.left,t[4]=r.top,t[5]=r.width,t[6]=s,t[7]=c):c=t[7];let l=c,u;return t[8]!==o||t[9]!==l?(u=(0,x.jsx)(`div`,{ref:o,style:l}),t[8]=o,t[9]=l,t[10]=u):u=t[10],u},T=e=>{let t=(0,v.c)(35),{title:n}=e,{next:d}=l.useStepper(),[m]=oe(ie),[h,g]=(0,y.useState)(C),_=(0,y.useRef)(null),w;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(w={},t[0]=w):w=t[0];let[T,O]=(0,y.useState)(w),[k,A]=(0,y.useState)(!1),j;t[1]===h?j=t[2]:(j=h.filter(se),t[1]=h,t[2]=j);let M=j,N=M.length===1,P,F;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(P=()=>{let e=_.current;if(!e)return;let t=()=>{let t=e.getBoundingClientRect(),{naturalWidth:n,naturalHeight:r}=e;if(n===0||r===0)return;let i=t.width/n,a=t.height/r,o={};S.forEach(e=>{if(e.shape===`circle`){let[t,n,r]=e.coords;o[e.id]={left:(t-r)*i,top:(n-r)*a,width:2*r*i,height:2*r*a}}else{let t=e.coords.filter(ce),n=e.coords.filter(E),r=Math.min(...t),s=Math.max(...t),c=Math.min(...n),l=Math.max(...n);o[e.id]={left:r*i,top:c*a,width:(s-r)*i,height:(l-c)*a}}}),O(o)};return e.complete?t():e.addEventListener(`load`,t),window.addEventListener(`resize`,t),()=>{window.removeEventListener(`resize`,t),e.removeEventListener(`load`,t)}},F=[],t[3]=P,t[4]=F):(P=t[3],F=t[4]),(0,y.useEffect)(P,F);let I;t[5]!==h||t[6]!==m?(I=function(e){let{active:t,over:n}=e;if(!n)return;let r=t.id.split(`-`),i=r[0].toUpperCase(),a=r[1].toUpperCase();if(n.id.toUpperCase()!=a){navigator.vibrate([10,30]),A(!0),setTimeout(()=>A(!1),500),i==`DOWNY`?s.warning(`downy is not used in the wash cycle`):s.warning(`put ${i} clothes in the ${a}`);return}let o=i.toLowerCase();m(),g(()=>h.map(e=>e.id===o?{...e,status:`SORTED`}:e))},t[5]=h,t[6]=m,t[7]=I):I=t[7];let L=I,R=f(ee),z=f(ne),B=f(te),V=p(R,z,B),H;t[8]===n?H=t[9]:(H=(0,x.jsx)(u,{children:(0,x.jsx)(r,{children:n})}),t[8]=n,t[9]=H);let U;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(U={position:`relative`,display:`inline-block`},t[10]=U):U=t[10];let W=k?`shake`:``,G;t[11]===Symbol.for(`react.memo_cache_sentinel`)?(G=(0,x.jsx)(`img`,{ref:_,src:b,alt:`Map`,height:300,width:300,className:`w-full h-auto max-h-[70vh] object-contain block`}),t[11]=G):G=t[11];let K;t[12]===T?K=t[13]:(K=Object.entries(T).map(D),t[12]=T,t[13]=K);let q;t[14]!==K||t[15]!==W?(q=(0,x.jsxs)(`div`,{style:U,className:W,children:[G,K]}),t[14]=K,t[15]=W,t[16]=q):q=t[16];let J;t[17]===M?J=t[18]:(J=(0,x.jsx)(ae,{items:M}),t[17]=M,t[18]=J);let Y;t[19]!==q||t[20]!==J?(Y=(0,x.jsxs)(`div`,{className:`flex`,children:[q,J]}),t[19]=q,t[20]=J,t[21]=Y):Y=t[21];let X;t[22]!==L||t[23]!==V||t[24]!==Y?(X=(0,x.jsx)(c,{children:(0,x.jsx)(re,{onDragEnd:L,sensors:V,children:Y})}),t[22]=L,t[23]=V,t[24]=Y,t[25]=X):X=t[25];let Z;t[26]!==N||t[27]!==d?(Z=N&&(0,x.jsx)(i,{className:`bounce_button`,onClick:d,children:`wash`}),t[26]=N,t[27]=d,t[28]=Z):Z=t[28];let Q;t[29]===Z?Q=t[30]:(Q=(0,x.jsx)(a,{children:Z}),t[29]=Z,t[30]=Q);let $;return t[31]!==X||t[32]!==Q||t[33]!==H?($=(0,x.jsxs)(o,{children:[H,X,Q]}),t[31]=X,t[32]=Q,t[33]=H,t[34]=$):$=t[34],$};function se(e){return e.status===`UNSORTED`}function ce(e,t){return t%2==0}function E(e,t){return t%2==1}function D(e){let[t,n]=e;return(0,x.jsx)(w,{id:t,bounds:n},t)}export{T as default};